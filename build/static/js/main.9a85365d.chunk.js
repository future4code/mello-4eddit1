(this["webpackJsonpmello-4eddit1"]=this["webpackJsonpmello-4eddit1"]||[]).push([[0],{63:function(e,n,t){e.exports=t(93)},93:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(55),o=t.n(c),i=t(17),u=t(4);function l(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Landing"))}var s=t(15),d=t.n(s),p=t(24),m=t(14),f=t(2),h=t(3),b=t(26),g=t.n(b);function v(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: auto;\n    padding: 40px;\n    height: 400px;\n    width: 400px;\n    border: 1px solid black;\n    text-align: center;\n    align-items: center;\n\n    > input {\n        height: 30px;\n        width: 250px;\n        margin: 15px;\n    }\n\n    > button {\n        height: 30px;\n        width: 200px;\n        margin: 5px;\n    }\n"]);return v=function(){return e},e}function E(){var e=Object(f.a)(["\n    display: flex;\n    height: 500px;\n    width: 100%;\n    border: 1px solid black;\n"]);return E=function(){return e},e}var x=h.b.div(E()),O=h.b.div(v());function j(){var e=Object(a.useState)(""),n=Object(m.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),i=Object(m.a)(o,2),l=i[0],s=i[1],f=Object(u.g)(),h=function(){var e=Object(p.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,password:l},e.prev=1,e.next=4,g.a.post("".concat("https://us-central1-labenu-apis.cloudfunctions.net/labEddit","/login"),n);case 4:a=e.sent,window.localStorage.setItem("token",a.data.token),window.localStorage.setItem("user",a.data.user.username),alert("\ud83d\ude03,Voc\xea Est\xe1 Logado"),f.push("/feed"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),alert("\ud83d\ude31, Algo Deu Errado");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(x,null,r.a.createElement(O,null,r.a.createElement("h1",null,"Login"),r.a.createElement("input",{placeholder:"Email",value:t,onChange:function(e){c(e.target.value)}}),r.a.createElement("input",{placeholder:"Senha",value:l,onChange:function(e){s(e.target.value)},type:"password"}),r.a.createElement("button",{onClick:h},"Entrar"),r.a.createElement("button",{onClick:function(){f.push("/signUp")}},"Cadastrar")))}var w=t(31),k=t(42);function y(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: auto;\n  padding: 40px;\n  height: 400px;\n  width: 400px;\n  border: 1px solid black;\n  text-align: center;\n  align-items: center;\n\n> input {\n  height: 30px;\n  width: 250px;\n  margin: 15px;\n}\n\n> button {\n  height: 30px;\n  width: 200px;\n  margin: 5px;\n  \n}\n"]);return y=function(){return e},e}function C(){var e=Object(f.a)(["\n  display: flex;\n  height: 500px;\n  width: 100%;\n  border: 1px solid black;\n"]);return C=function(){return e},e}var S=h.b.div(C()),V=h.b.form(y());function A(){var e=function(e){var n=Object(a.useState)(e),t=Object(m.a)(n,2),r=t[0],c=t[1];return{form:r,onChange:function(e,n){var t=Object(k.a)(Object(k.a)({},r),{},Object(w.a)({},e,n));c(t)}}}({username:"",email:"",password:""}),n=e.form,t=e.onChange,c=Object(u.g)(),o=function(e){var n=e.target,a=n.name,r=n.value;t(a,r)},i=function(){g.a.post("".concat("https://us-central1-labenu-apis.cloudfunctions.net/labEddit","/signup"),n).then((function(e){alert("Cadastrado Com Sucesso")})).catch((function(e){console.log(e),alert("Algo Saiu Errado!")}))};return r.a.createElement(S,null,r.a.createElement(V,{onSubmit:function(e){e.preventDefault(),i(),c.push("/login")}},r.a.createElement("h1",null,"Cadastrar"),r.a.createElement("input",{placeholder:"Nome de Usu\xe1rio",value:n.username,name:"username",type:"text",required:!0,onChange:o}),r.a.createElement("input",{placeholder:"Email",value:n.email,name:"email",type:"text",required:!0,onChange:o}),r.a.createElement("input",{placeholder:"Senha",value:n.password,name:"password",type:"text",required:!0,onChange:o}),r.a.createElement("button",null,"Cadastrar")))}var D=g.a.create({baseURL:"https://us-central1-labenu-apis.cloudfunctions.net/labEddit/"}),z=t(32),T=t.n(z),I=t(34),_=t.n(I);function F(){var e=Object(f.a)(["\n    padding: 0 1rem 0 0;\n"]);return F=function(){return e},e}function P(){var e=Object(f.a)(["\n    padding: 8px;\n    min-height: 30px;\n"]);return P=function(){return e},e}function R(){var e=Object(f.a)(["\n    border: 1px solid rgba(220,220,220,0.75);\n    padding: 8px;\n    width: 80%;\n    margin: auto;\n"]);return R=function(){return e},e}var L=h.b.div(R()),U=h.b.div(P()),q=h.b.span(F()),N=function(e){return r.a.createElement(L,{key:e.comments.id},r.a.createElement("strong",null,"@",e.comments.username),r.a.createElement(U,null,e.comments.text),r.a.createElement("div",null,"Votos: ",e.comments.votesCount),r.a.createElement(q,null,r.a.createElement(T.a,{titleAccess:"curtir",cursor:"pointer",onClick:function(){return e.like(e.comments)}})),r.a.createElement(q,null,r.a.createElement(_.a,{titleAccess:"descurtir",cursor:"pointer",onClick:function(){return e.dislike(e.comments)}})))},B=t(111),J=t(59),W=t.n(J);function Z(){var e=Object(f.a)(["\n    height: 20px;\n    width: 94%;\n"]);return Z=function(){return e},e}function G(){var e=Object(f.a)(["\n    padding: 0 1rem 0 0;\n"]);return G=function(){return e},e}function H(){var e=Object(f.a)(["\n    padding: 8px;\n    min-height: 30px;\n"]);return H=function(){return e},e}function M(){var e=Object(f.a)(["\n    border: 1px solid rgba(220,220,220,0.75);\n    padding: 8px;\n    width: 80%;\n    margin: 0 auto 0.5rem auto;\n"]);return M=function(){return e},e}var $=h.b.div(M()),K=h.b.div(H()),Q=h.b.span(G()),X=h.b.input(Z()),Y=Object(B.a)((function(e){return{root:{height:"0.5em"}}})),ee=function(e){var n=Y();return r.a.createElement($,{key:e.post.id},r.a.createElement("h2",null,"@",e.post.username),r.a.createElement(K,null,r.a.createElement("p",null,e.post.text)),r.a.createElement("p",null,"Votos: ",e.post.votesCount," - Coment\xe1rios: ",e.post.commentsCount),r.a.createElement(Q,null,r.a.createElement(T.a,{titleAccess:"curtir",cursor:"pointer",onClick:e.like})),r.a.createElement(Q,null,r.a.createElement(_.a,{titleAccess:"descurtir",cursor:"pointer",onClick:e.dislike})),r.a.createElement("div",null,r.a.createElement(X,{type:"text",placeholder:"Comentar",onChange:e.changeInputValue,value:e.inputValue}),r.a.createElement(W.a,{className:n.root,cursor:"pointer",onClick:e.submitComment})))},ne={headers:{Authorization:localStorage.getItem("token")}};function te(){var e=Object(u.h)(),n=Object(a.useState)(void 0),t=Object(m.a)(n,2),c=t[0],o=t[1],i=Object(a.useState)(""),l=Object(m.a)(i,2),s=l[0],d=l[1];Object(a.useEffect)((function(){p()}),[]);var p=function(){D.get("posts/".concat(e.id),ne).then((function(e){o(e.data.post)})).catch((function(e){console.log(e)}))},f=function(n){var t;t=1===n.userVoteDirection?{direction:0}:{direction:1},D.put("posts/".concat(e.id,"/comment/").concat(n.id,"/vote"),t,ne).then((function(e){p()}))},h=function(n){var t;t=-1===n.userVoteDirection?{direction:0}:{direction:-1},D.put("posts/".concat(e.id,"/comment/").concat(n.id,"/vote"),t,ne).then((function(e){p()}))};return r.a.createElement(r.a.Fragment,null,void 0!==c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{key:c.id,post:c,like:function(){var n;n=1===c.userVoteDirection?{direction:0}:{direction:1},D.put("posts/".concat(e.id,"/vote"),n,ne).then((function(e){p()}))},dislike:function(){var n;n=-1===c.userVoteDirection?{direction:0}:{direction:-1},D.put("posts/".concat(e.id,"/vote"),n,ne).then((function(e){p()}))},changeInputValue:function(e){d(e.target.value),console.log(s)},submitComment:function(){console.log(s);var n={text:s};D.post("posts/".concat(e.id,"/comment"),n,ne).then((function(e){console.log(e),d(""),p()}))},inputValue:s}),c.comments.map((function(e){return r.a.createElement(N,{key:e.id,comments:e,like:f,dislike:h})}))))}var ae=function(){var e=Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.get("/posts",{headers:{Authorization:localStorage.getItem("token")}});case 3:return n=e.sent,e.abrupt("return",n.data.posts);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(p.a)(d.a.mark((function e(n,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.put("posts/".concat(n,"/vote"),{direction:t},{headers:{Authorization:localStorage.getItem("token")}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n,t){return e.apply(this,arguments)}}(),ce=[{userVoteDirection:-1,id:"WCmBIGyynC5ihJFUmHFf",text:"ait!",commentsCount:1,title:"Titulo aqui!",username:"darvas",votesCount:-1,createdAt:1591622901616}],oe=function(e,n){switch(n.type){case"LOAD_POSTS":return void 0===n.payload?e:n.payload;case"UPVOTE_POST":return 0===n.direction||-1===n.direction?re(n.id,1):re(n.id,0),e;case"DOWNVOTE_POST":return 0===n.direction||1===n.direction?re(n.id,-1):re(n.id,0),e;default:return e}},ie=t(122),ue=t(123);function le(){var e=Object(f.a)(["\n    width: 100%;\n    margin-top: 10px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n"]);return le=function(){return e},e}function se(){var e=Object(f.a)(["\n    padding: 10px;\n    word-break: break-word;\n    text-align: center;\n    width: 100%;\n    height: 80px;\n    overflow-y: scroll;\n"]);return se=function(){return e},e}function de(){var e=Object(f.a)(["\n    display: flex;\n    width: 350px;\n    height: 350px;\n    flex-direction: column;\n    align-items: center;\n    border: 4px dashed black;\n    margin: 10px;\n    border-radius: 3px;\n    padding: 10px;\n\n    a {\n        text-decoration: none;\n        color: inherit;\n    }\n\n    div {\n        margin-top: 30px;\n        width: 100%;\n        height: 30%;\n    }\n\n    svg {\n        cursor: pointer;\n        margin: 0 10px;\n    }\n"]);return de=function(){return e},e}var pe=h.b.div(de()),me=h.b.p(se()),fe=h.b.span(le()),he=t(43),be=t(112),ge=t(113),ve=t(114),Ee=t(115),xe=t(116),Oe=t(117),je=t(118),we=t(119),ke=t(120),ye=t(121);function Ce(e){var n=e.id,t=e.username,a=e.title,c=e.text,o=e.votesCount,u=e.commentsCount,l=e.userVoteDirection,s=e.createdAt,d=e.dispatch,p=e.fetchData,m=function(e){return function(){d({type:e?"UPVOTE_POST":"DOWNVOTE_POST",id:n,direction:l}),p()}};return r.a.createElement(pe,null,r.a.createElement(i.b,{to:"/posts/".concat(n)},r.a.createElement("h1",null,t),r.a.createElement("h3",null,a),r.a.createElement(me,null,c),r.a.createElement("div",null,r.a.createElement("p",null,o," votos"),r.a.createElement("p",null,Object(ie.a)(s,{addSuffix:!0,includeSeconds:!0,locale:ue.a})),r.a.createElement("p",null,u," \ud83d\udde8"))),r.a.createElement("span",null,r.a.createElement("b",{role:"emoji",onClick:m(!0)},r.a.createElement(he.b,null)),l,r.a.createElement("b",{role:"emoji",onClick:m(!1)},r.a.createElement(he.a,null))),r.a.createElement(fe,null,r.a.createElement(be.a,{url:"".concat(window.location.host,"/posts/").concat(n)},r.a.createElement(ge.a,{borderRadius:100,size:50})),r.a.createElement(ve.a,{url:"".concat(window.location.host,"/posts/").concat(n)},r.a.createElement(Ee.a,{borderRadius:100,size:50})),r.a.createElement(xe.a,{url:"".concat(window.location.host,"/posts/").concat(n)},r.a.createElement(Oe.a,{borderRadius:100,size:50})),r.a.createElement(je.a,{url:"".concat(window.location.host,"/posts/").concat(n)},r.a.createElement(we.a,{borderRadius:100,size:50})),r.a.createElement(ke.a,{url:"".concat(window.location.host,"/posts/").concat(n)},r.a.createElement(ye.a,{borderRadius:100,size:50}))))}function Se(){var e=Object(f.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: center;\n"]);return Se=function(){return e},e}function Ve(){var e=Object(f.a)(["\n    margin: 0 auto;\n"]);return Ve=function(){return e},e}function Ae(){var e=Object(f.a)(["\n    display: grid;\n    justify-items: center;\n    margin-top: 100px;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: repeat(5, 1fr);\n    gap: 5px;\n    padding: 0 20px;\n    width: 100%;\n    height: auto;\n    min-height: 1240px;\n    margin-bottom: 80px;\n\n    @media (max-width: 1124px) {\n        display: flex;\n        justify-content: center;\n        flex-wrap: wrap;\n        height: auto;\n        min-height: 1400px;\n\n        > * {\n            margin: 10px;\n        }\n    }\n"]);return Ae=function(){return e},e}var De=h.b.main(Ae()),ze=h.b.input(Ve()),Te=h.b.div(Se());function Ie(){var e=Object(a.useReducer)(oe,ce),n=Object(m.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),i=Object(m.a)(o,2),u=i[0],l=i[1];function s(){return f.apply(this,arguments)}function f(){return(f=Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:n=e.sent,c({type:"LOAD_POSTS",payload:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){s()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,null,r.a.createElement(ze,{type:"text",onChange:function(e){return l(e.target.value)},placeholder:"Busque um post"})),r.a.createElement(De,null,t.map((function(e){return""===u||e.title.includes(u)||e.text.includes(u)||e.username.includes(u)?r.a.createElement(Ce,Object.assign({},e,{dispatch:c,fetchData:s})):r.a.createElement(r.a.Fragment,null)}))))}function _e(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Feed"),r.a.createElement(Ie,null))}var Fe=function(){var e=localStorage.getItem("token");return!(null==e||!e.match(/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.?[A-Za-z0-9-_.-_]*$/))};function Pe(e){var n=Object.assign({},e);return Fe()?r.a.createElement(u.b,n):r.a.createElement(u.a,{to:"/login"})}function Re(e){var n=Object.assign({},e);return Fe()?r.a.createElement(u.a,{to:"/feed"}):r.a.createElement(u.b,n)}function Le(){return r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:l}),r.a.createElement(Re,{exact:!0,path:"/login",component:j}),r.a.createElement(Re,{exact:!0,path:"/signup",component:A}),r.a.createElement(Pe,{exact:!0,path:"/feed",component:_e}),r.a.createElement(Pe,{exact:!0,path:"/posts/:id",component:te}))}function Ue(){var e=Object(f.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n  \n  body {\n     -webkit-font-smoothing: antialiased;\n    }\n\n  button {\n   cursor: pointer;\n  }\n\n  "]);return Ue=function(){return e},e}var qe=Object(h.a)(Ue());var Ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,null),r.a.createElement(i.a,null,r.a.createElement(Le,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ne,null)),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.9a85365d.chunk.js.map